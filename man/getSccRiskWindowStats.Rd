% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SelfControlledCohort.R
\name{getSccRiskWindowStats}
\alias{getSccRiskWindowStats}
\title{Run Self-Controlled Cohort Risk Window Statistics}
\usage{
getSccRiskWindowStats(
  connection,
  outcomeDatabaseSchema,
  tempEmulationSchema = getOption("sqlRenderTempEmulationSchema"),
  oracleTempSchema = NULL,
  outcomeIds = NULL,
  cdmVersion = 5,
  createOutcomeIdTempTable = TRUE,
  outcomeTable = "condition_era",
  firstOutcomeOnly = TRUE,
  riskWindowsTable = "#risk_windows"
)
}
\arguments{
\item{connection}{DatabaseConnector connection instance}

\item{outcomeDatabaseSchema}{The name of the database schema that is the location where
the data used to define the outcome cohorts is available. If
exposureTable = CONDITION_ERA, exposureDatabaseSchema is not
used by assumed to be cdmSchema.  Requires read permissions
to this database.}

\item{tempEmulationSchema}{Some database platforms like Oracle and Impala do not truly support temp tables. To emulate temp
tables, provide a schema with write privileges where temp tables can be created.}

\item{oracleTempSchema}{For Oracle only: the name of the database schema where you
want all temporary tables to be managed. Requires
create/insert permissions to this database.}

\item{outcomeIds}{The condition_concept_ids or cohort_definition_ids of the
outcomes of interest. If empty, all the outcomes in the
outcome table will be included.}

\item{cdmVersion}{Define the OMOP CDM version used: currently support "4" and
"5".}

\item{createOutcomeIdTempTable}{Optionally create a temp table of outcomes (used internally)}

\item{outcomeTable}{The tablename that contains the outcome cohorts.  If
outcomeTable <> CONDITION_OCCURRENCE, then expectation is
outcomeTable has format of COHORT table:
COHORT_DEFINITION_ID, SUBJECT_ID, COHORT_START_DATE,
COHORT_END_DATE.}

\item{firstOutcomeOnly}{If TRUE, only use first occurrence of each condition concept
id for each person.}

\item{riskWindowsTable}{String: optionally store the risk windows in a (non-temporary)
table.}
}
\description{
Compute statistics from risk windows.
}
\details{
Returns list of data.frames:
 Time on treatment (for population exposed that experience the outcome)
 Time between outcome and exposure in 3 formats:
     -Total population
     -Population that experienced the outcome in the exposed risk window
     -Population that experienced the outcome in the unexposed risk window
}
